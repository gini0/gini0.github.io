{"pages":[],"posts":[{"title":"WP的buffer pool报错导致数据库Error的解决方法","text":"首先查看错误日志 12Cd /var/logTail -n 500 mysqld.log 发现错误是： 123456782018-11-11T09:08:20.364026Z 0 [Note] InnoDB: Initializing buffer pool, total size = 50M, instances = 1, chunk size = 50M2018-11-11T09:08:21.751200Z 0 [ERROR] InnoDB: mmap(53690368 bytes) failed; errno 122018-11-11T09:08:21.751262Z 0 [ERROR] InnoDB: Cannot allocate memory for the buffer pool2018-11-11T09:08:21.751274Z 0 [ERROR] InnoDB: Plugin initialization aborted with error Generic error2018-11-11T09:08:22.220815Z 0 [ERROR] Plugin &apos;InnoDB&apos; init function returned error.2018-11-11T09:08:22.526092Z 0 [ERROR] Plugin &apos;InnoDB&apos; registration as a STORAGE ENGINE failed.2018-11-11T09:08:22.526142Z 0 [ERROR] Failed to initialize builtin plugins.2018-11-11T09:08:22.526159Z 0 [ERROR] Aborting 导致的 Wp Error establishing a database connection problem解决方法：改mysql的设置 1234Where is my.cnfCd /etcVim my.cnfinnodb_buffer_pool_size = 50M 依然不行改swap空间空间太小，设置swap分区 参考网址：https://blog.csdn.net/Mr_OOO/article/details/78653523http://junhey.com/2016/06/16/2016-06-17-05-10.htmlhttps://www.cnblogs.com/LUO77/p/5821530.html 参考文件,这儿后面的就是在my.cnf可以直接修改23","link":"/2018/11/14/Wp中数据库Error的解决方法/"},{"title":"怎么优化LAMP的速度","text":"1、Chrome 访问你的博客，接着 Chrome 的菜单 -》视图 -》开发者 -》开发者工具 -》 Network 刷新一次页面，根据页面加载各种内容的耗时对症下药。 2、服务器延迟，换服务器 3、是否页面 TTFB 过高 动静分离、静态文件未对国内优化、Gravatar 换成国内镜像，CDNJS 换成国内镜像， 静态资源与主站分离 4、php 用 memcached 和 opcache 网络配置换 google 的 bbr 5、 php 执行很慢，你得确认你 php 版本？尽可能上 php7，另外 php 的 APC 缓存加速开了么？ php7 和 apc 缓存 是否开，都直接影响页面执行性能若干倍。 页面和 php 能作的都作了，还是慢，那就得查 db 了。 MySQL 慢查询日志记录开了没？慢查询多不多？ mysql 版本？数据表存储引擎类型？ InnoDB 么？ Innodb mem pool size 够不够大？ phpmyadmin 查查 db 的最近执行性能统计信息。 进系统再查 内存是不是不够，swap 是否频繁读写？ vultr 后台再查查 测试期间 /慢的时候，系统性能 /网络是不是被吃满了？排除资源不够的问题。","link":"/2018/11/19/怎么优化LAMP的速度/"}],"tags":[{"name":"wordpress","slug":"wordpress","link":"/tags/wordpress/"},{"name":"LAMP","slug":"LAMP","link":"/tags/LAMP/"}],"categories":[{"name":"技术","slug":"技术","link":"/categories/技术/"}]}