<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>python 文档 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="[TOC] 这个是基于莫凡python，廖雪峰的自学整理 安装安装python31brew install python3 选择python3 —versionatom 安装 scriptcmd shift +p 查找 run  快捷键cmd i打开setting：cmd + ，1pip3 install jupyter 这边用conda更方便 基础功能print 功能Print 功能：  Pri">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="python 文档">
<meta property="og:url" content="http://yoursite.com/2017/09/23/python-文档/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="[TOC] 这个是基于莫凡python，廖雪峰的自学整理 安装安装python31brew install python3 选择python3 —versionatom 安装 scriptcmd shift +p 查找 run  快捷键cmd i打开setting：cmd + ，1pip3 install jupyter 这边用conda更方便 基础功能print 功能Print 功能：  Pri">
<meta property="og:locale" content="default">
<meta property="og:image" content="evernotecid://9A67477A-D574-4790-9D02-79AC4C197FC4/appyinxiangcom/9302176/ENResource/p2380">
<meta property="og:image" content="evernotecid://9A67477A-D574-4790-9D02-79AC4C197FC4/appyinxiangcom/9302176/ENResource/p2414">
<meta property="og:image" content="evernotecid://9A67477A-D574-4790-9D02-79AC4C197FC4/appyinxiangcom/9302176/ENResource/p2415">
<meta property="og:updated_time" content="2018-11-25T14:42:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python 文档">
<meta name="twitter:description" content="[TOC] 这个是基于莫凡python，廖雪峰的自学整理 安装安装python31brew install python3 选择python3 —versionatom 安装 scriptcmd shift +p 查找 run  快捷键cmd i打开setting：cmd + ，1pip3 install jupyter 这边用conda更方便 基础功能print 功能Print 功能：  Pri">
<meta name="twitter:image" content="evernotecid://9A67477A-D574-4790-9D02-79AC4C197FC4/appyinxiangcom/9302176/ENResource/p2380">
  
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
      </nav>
      <nav id="sub-nav">
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-python-文档" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/23/python-文档/" class="article-date">
  <time datetime="2017-09-23T14:23:52.000Z" itemprop="datePublished">2017-09-23</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/技术/">技术</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      python 文档
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>[TOC]</p>
<p>这个是基于莫凡python，廖雪峰的自学整理</p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>安装python3<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install python3</span><br></pre></td></tr></table></figure></p>
<p>选择python3 —version<br>atom 安装 script<br>cmd shift +p 查找 run  快捷键cmd i<br>打开setting：cmd + ，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install jupyter</span><br></pre></td></tr></table></figure></p>
<p>这边用conda更方便</p>
<h2 id="基础功能"><a href="#基础功能" class="headerlink" title="基础功能"></a>基础功能</h2><h3 id="print-功能"><a href="#print-功能" class="headerlink" title="print 功能"></a>print 功能</h3><p>Print 功能：</p>
<ol>
<li>Print(1) 3.5以上一定要有括号</li>
<li>Print string的话 用单引号或者双引号，双引号里面加单引号</li>
<li>\是系统识别符号，数字不可以加字符串</li>
</ol>
<p><strong>坚持使用4个空格的缩进</strong><br><strong>大小写敏感的</strong><br>平方是<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">8%3是取余数，</span><br><span class="line">9//4取整</span><br><span class="line">```python</span><br><span class="line">print(int(&apos;2&apos;)+3) #int为定义整数型</span><br><span class="line">print(int(1.9))  #当int一个浮点型数时，int会保留整数部分</span><br><span class="line">print(float(&apos;1.2&apos;)+3) #float()是浮点型，可以把字符串转换成小数</span><br></pre></td></tr></table></figure></p>
<h3 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h3><p>用%实现</p>
<ol>
<li>%s表示用字符串替换</li>
<li>%d表示用整数替换</li>
<li>有几个%?占位符，后面就跟几个变量或者值，顺序要对应好。如果只有一个%?，括号可以省略。</li>
<li>%s永远起作用<br>%s    字符串 (采用str()的显示)<br>%r    字符串 (采用repr()的显示)<br>%c    单个字符<br>%b    二进制整数<br>%d    十进制整数<br>%i    十进制整数<br>%o    八进制整数<br>%x    十六进制整数<br>%e    指数 (基底写为e)<br>%E    指数 (基底写为E)<br>%f    浮点数<br>%F    浮点数，与上相同%g    指数(e)或浮点数 (根据显示长度)<br>%G    指数(E)或浮点数 (根据显示长度)<br>%%    字符”%”<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">print</span> (<span class="string">'Hi, %s, you have $%d.'</span> % (<span class="string">'Michael'</span>, <span class="number">1000000</span>))</span><br><span class="line">print( <span class="string">'growth rate: %d %%'</span> % <span class="number">7</span>)</span><br><span class="line">print( <span class="string">'Age: %s. Gender: %s'</span> % (<span class="number">25</span>, <span class="keyword">True</span>))</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apple=<span class="number">1</span></span><br><span class="line">apple_2016=<span class="string">'iphone 7 plus'</span></span><br><span class="line">a,b,c=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> <span class="comment">#定义多个自变量</span></span><br></pre></td></tr></table></figure>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><h3 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h3><p>注意不要少写了<strong>冒号:</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">age = <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> age &gt;= <span class="number">18</span>:</span><br><span class="line">    print(<span class="string">'adult'</span>)</span><br><span class="line"><span class="keyword">elif</span> age &gt;= <span class="number">6</span>:</span><br><span class="line">    print(<span class="string">'teenager'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(‘kid<span class="string">')</span></span><br></pre></td></tr></table></figure></p>
<p>// <img src="evernotecid://9A67477A-D574-4790-9D02-79AC4C197FC4/appyinxiangcom/9302176/ENResource/p2380" alt="d82f37493cc3f66494b326395c054980.png"> //</p>
<a id="more"></a>
<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><p>循环是while循环，只要条件满足，就不断循环，条件不满足时退出循环。<br>如果要提前结束循环，可以用break语句<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> n &lt;= <span class="number">100</span>:</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">10</span>: <span class="comment"># 当n = 11时，条件满足，执行break语句</span></span><br><span class="line">        <span class="keyword">break</span> <span class="comment"># break语句会结束当前循环</span></span><br><span class="line">    print(n)</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">print(<span class="string">'END'</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="continue和break，pass"><a href="#continue和break，pass" class="headerlink" title="continue和break，pass"></a>continue和break，pass</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> n &lt; <span class="number">10</span>:</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span>: <span class="comment"># 如果n是偶数，执行continue语句</span></span><br><span class="line">        <span class="keyword">continue</span> <span class="comment"># continue语句会直接继续下一轮循环，后续的print()语句不会执行</span></span><br><span class="line">    print(n)</span><br></pre></td></tr></table></figure>
<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><p>for…in…循环作为迭代器,cmd+[改变tab缩进结构<br>依次把list或tuple中的每个元素迭代出来，迭代器的作用，<br>看例子：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'Michael'</span>, <span class="string">'Bob'</span>, <span class="string">'Tracy'</span>]</span><br><span class="line"><span class="keyword">for</span> name <span class="keyword">in</span> names:</span><br><span class="line">    print(name)</span><br></pre></td></tr></table></figure></p>
<p>range是自定义函数，range(1,10)其实是1-9<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">101</span>):  <span class="comment"># 到100 </span></span><br><span class="line">    sum = sum + x</span><br><span class="line">print(sum)</span><br></pre></td></tr></table></figure></p>
<h3 id="if判断"><a href="#if判断" class="headerlink" title="if判断"></a>if判断</h3><p>python 语言中等号的判断使用 == 而不是 =, 因为后一种是赋值语句<br>要有冒号，&lt;,&gt;.&lt;=,&lt;=,==（等于）,!=(不等于),</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">z = <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> x &lt; y:</span><br><span class="line">    print(<span class="string">'x is less than y'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="if…else…"><a href="#if…else…" class="headerlink" title="if…else…"></a>if…else…</h4><p>同等关系，都有冒号<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition:</span><br><span class="line">    true_expressions</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    false_expressions</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">z = <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> x &gt; y:</span><br><span class="line">    print(<span class="string">'x is greater than y'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'x is less or equal to y'</span>)</span><br></pre></td></tr></table></figure>
<h4 id="if-elif…else"><a href="#if-elif…else" class="headerlink" title="if..elif…else"></a>if..elif…else</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition1:</span><br><span class="line">    true1_expressions</span><br><span class="line"><span class="keyword">elif</span> condition2:</span><br><span class="line">    true2_expressions</span><br><span class="line"><span class="keyword">elif</span> condtion3:</span><br><span class="line">    true3_expressions</span><br><span class="line"><span class="keyword">elif</span> ...</span><br><span class="line">    ...</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    else_expressions</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">4</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">z = <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> x &gt; <span class="number">1</span>:</span><br><span class="line">    <span class="keyword">print</span> (<span class="string">'x &gt; 1'</span>)</span><br><span class="line"><span class="keyword">elif</span> x &lt; <span class="number">1</span>:</span><br><span class="line">    print(<span class="string">'x &lt; 1'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'x = 1'</span>)</span><br><span class="line">print(<span class="string">'finish'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="定义功能"><a href="#定义功能" class="headerlink" title="定义功能"></a>定义功能</h2><h3 id="定义函数"><a href="#定义函数" class="headerlink" title="定义函数"></a>定义函数</h3><p>四个空格<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">function_name</span><span class="params">(parameters)</span>:</span></span><br><span class="line">    expressions</span><br></pre></td></tr></table></figure></p>
<h3 id="函数参数"><a href="#函数参数" class="headerlink" title="函数参数"></a>函数参数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    c=a*b</span><br><span class="line">    print(<span class="string">'the c is '</span>,c)</span><br></pre></td></tr></table></figure>
<p>函数的默认参数<br>没有的放前面，后面有默认的放后面，这样就可以直接输出了<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sale_car</span><span class="params">(price, color=<span class="string">'red'</span>, brand=<span class="string">'carmy'</span>, is_second_hand=True)</span>:</span></span><br><span class="line">    print(<span class="string">'price'</span>, price,</span><br><span class="line">          <span class="string">'color'</span>, color,</span><br><span class="line">          <span class="string">'brand'</span>, brand,</span><br><span class="line">          <span class="string">'is_second_hand'</span>, is_second_hand,)</span><br></pre></td></tr></table></figure></p>
<p>可变参数（可变参数在函数定义不能出现在特定参数和默认参数前面）和关键词参数（参数在函数内部自动封装成一个字典(dict)）<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">universal_func(*args, **kw)</span><br></pre></td></tr></table></figure></p>
<h2 id="定义变量-1"><a href="#定义变量-1" class="headerlink" title="定义变量"></a>定义变量</h2><p>局部变量 和 全局变量<br>全局通常全部大写，局部变量小写在函数内；如果在方程中<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="keyword">None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">()</span></span></span><br><span class="line">   global a=30</span><br></pre></td></tr></table></figure></p>
<h2 id="模块安装"><a href="#模块安装" class="headerlink" title="模块安装"></a>模块安装</h2><p>用别人好的外部模块加载，比如numpy<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install numpy   # 这是 python2+ 版本的用法</span><br><span class="line">pip3 install numpy   # 这是 python3+ 版本的用法</span><br><span class="line">pip3 install -U numpy   # 这是 python3+ 版本的用法</span><br></pre></td></tr></table></figure></p>
<h2 id="文件读写"><a href="#文件读写" class="headerlink" title="文件读写"></a>文件读写</h2><ol>
<li>就是存模块、文件，下一次再用；<br>\n 是换行命令，\t 对齐<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">text=<span class="string">'This is my first test.\n\tThis is the second line.\n\tThis the third line'</span></span><br><span class="line">print(text)   <span class="comment"># 输入换行命令\n，要注意斜杆的方向。</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>open读文件方式<br>使用 open 能够打开一个文件, open 的第一个参数为文件名和路径 ‘my file.txt’, 第二个参数为将要以什么方式打开它, 比如 w 为可写方式. 如果计算机没有找到 ‘my file.txt’ 这个文件, w 方式能够创建一个新的文件, 并命名为 my file.txt<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">my_file=open(<span class="string">'my file.txt'</span>,<span class="string">'w'</span>)   <span class="comment">#用法: open('文件名','形式'), 其中形式有'w':write;'r':read.</span></span><br><span class="line">my_file.write(text)               <span class="comment">#该语句会写入先前定义好的 text</span></span><br><span class="line">my_file.close()                   <span class="comment">#关闭文件</span></span><br></pre></td></tr></table></figure></p>
<p>打开文件要close</p>
<ol start="2">
<li><p>给文件添加内容<br>写文件是用，’w’;追加用’a’</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">append_text=<span class="string">'\nThis is appended file.'</span>  <span class="comment"># 为这行文字提前空行 "\n"</span></span><br><span class="line">my_file=open(<span class="string">'my file.txt'</span>,<span class="string">'a'</span>)   <span class="comment"># 'a'=append 以增加内容的形式打开</span></span><br><span class="line">my_file.write(append_text)</span><br><span class="line">my_file.close()</span><br></pre></td></tr></table></figure>
</li>
<li><p>读文件，是 r<br>使用 file.read() 能够读取到文本的所有内容.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">file= open(<span class="string">'my file.txt'</span>,<span class="string">'r'</span>) </span><br><span class="line">content=file.read()  </span><br><span class="line">print(content)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>按行读取 file.readline()，readlines就是多行输出<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">file= open(<span class="string">'my file.txt'</span>,<span class="string">'r'</span>) </span><br><span class="line">content=file.readline()  <span class="comment"># 读取第一行</span></span><br><span class="line">second_read_time=file.readline()  <span class="comment"># 读取第二行</span></span><br><span class="line">print(content)</span><br><span class="line">print(second_read_time)</span><br></pre></td></tr></table></figure></p>
<h2 id="类-Class"><a href="#类-Class" class="headerlink" title="类 Class"></a>类 Class</h2><ol>
<li>建议首字母大写</li>
<li>冒号不能缺失</li>
<li>运行时class要加（）</li>
<li>def第一个参数要是self<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span>:</span>       <span class="comment">#首字母要大写，冒号不能缺</span></span><br><span class="line">    name=<span class="string">'Good Calculator'</span>  <span class="comment">#该行为class的属性</span></span><br><span class="line">    price=<span class="number">18</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        print(self.name)</span><br><span class="line">        result = x + y</span><br><span class="line">        print(result)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minus</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        result=x-y</span><br><span class="line">        print(result)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">times</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        print(x*y)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">divide</span><span class="params">(self,x,y)</span>:</span></span><br><span class="line">        print(x/y)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>运行：</p>
<blockquote>
<blockquote>
<blockquote>
<p>cal=Calculator()<br>cal.add(10,20)</p>
</blockquote>
</blockquote>
</blockquote>
<h3 id="class的init功能"><a href="#class的init功能" class="headerlink" title="class的init功能"></a>class的init功能</h3><p>其实 __init__可以理解成初始化class的变量，取自英文中initial 最初的意思.可以在运行时，给初始值附值</p>
<ol>
<li>还是要有self,必须要有参数，不论是先输入的还是默认的</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span>:</span></span><br><span class="line">    name=<span class="string">'good calculator'</span></span><br><span class="line">    price=<span class="number">18</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,name,price,hight=<span class="number">10</span>,width=<span class="number">14</span>,weight=<span class="number">16</span>)</span>:</span> <span class="comment">#后面三个属性设置默认值,查看运行</span></span><br><span class="line">        self.name=name</span><br><span class="line">        self.price=price</span><br><span class="line">        self.h=hight</span><br><span class="line">        self.wi=width</span><br><span class="line">        self.we=weight</span><br></pre></td></tr></table></figure>
<h2 id="input模块"><a href="#input模块" class="headerlink" title="input模块"></a>input模块</h2><p>variable=input() 表示运行后，可以在屏幕中输入一个数字，该数字会赋值给自变量。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a_input=input(<span class="string">'please input a number:'</span>)</span><br><span class="line">print(<span class="string">'this number is:'</span>,a_input)</span><br></pre></td></tr></table></figure></p>
<p>这儿可以用在if里面，但是在if语句中自变量 a_input 对应的是1 and 2 整数型。输入的内容和判断句中对应的内容格式应该一致。不然返回值是string 所以要是int，或者就是’1’,或者str（1），不然就是int(input(‘plz give a num’))<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a_input=int(input(<span class="string">'please input a number:'</span>))<span class="comment">#注意这里要定义一个整数型</span></span><br><span class="line"><span class="keyword">if</span> a_input==<span class="number">1</span>:</span><br><span class="line">    print(<span class="string">'This is a good one'</span>)</span><br><span class="line"><span class="keyword">elif</span> a_input==<span class="number">2</span>:</span><br><span class="line">    print(<span class="string">'See you next time'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'Good luck'</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="元组（tuple）-列表（List）"><a href="#元组（tuple）-列表（List）" class="headerlink" title="元组（tuple） 列表（List）"></a>元组（tuple） 列表（List）</h2><p>两个都是有<strong>次序</strong>的数字<br>turple 小括号<br>list 中括号<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a_tuple = (<span class="number">12</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">15</span> , <span class="number">6</span>)</span><br><span class="line">another_tuple = <span class="number">12</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">15</span> , <span class="number">6</span> <span class="comment">#tuple</span></span><br><span class="line">a_list = [<span class="number">12</span>, <span class="number">3</span>, <span class="number">67</span>, <span class="number">7</span>, <span class="number">82</span>] <span class="comment">#list</span></span><br></pre></td></tr></table></figure></p>
<p>用作迭代，或者定位 参加for..in..循环<br>依次输出a_tuple和a_list中的各个元素,这儿的range，还是迭代器，是4，从0开始<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(len(a_list)):</span><br><span class="line">    print(<span class="string">"index = "</span>, index, <span class="string">", number in list = "</span>, a_list[index])</span><br></pre></td></tr></table></figure></p>
<h4 id="List"><a href="#List" class="headerlink" title="List"></a>List</h4><p>list的添加方法：XX.append(‘str’),在最后添加一个<br>​     指定位置: xx.insert(位置，‘项目’)；<br>​     删除：xx.remove(元素)，会删掉第一个出现的元素，后面会保留<br>指数[0]:print(a[0]) :打印出a列表的第0位<br>   a[-1]:从最后面开始算起<br>   a[0:3]:从第0位到第2位，0，1，2，等同于[:3],a[3:5]输出3，4；<br>​         还有[5:],  [-3:],都是前闭后开<br>a.index(2):第一次出现2（value）的索引<br>a.count(2):算出value出现的次数<br>a.sort():函数排序，从小到大并覆盖</p>
<p>​<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">classmates.append(<span class="string">'Adam'</span>)</span><br><span class="line">classmates.insert(<span class="number">1</span>, <span class="string">'Jack'</span>)  <span class="comment">#在第一位添加jack</span></span><br><span class="line">a = [<span class="number">4</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">-1</span>]</span><br><span class="line">a.remove(<span class="number">2</span>) </span><br><span class="line">a.sort() <span class="comment"># 默认从小到大排序</span></span><br><span class="line">a.sort(reverse=<span class="keyword">True</span>) <span class="comment"># 从大到小排序</span></span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure></p>
<p>tuple和list非常类似，但是tuple一旦初始化就不能修改,“指向不变”.</p>
<h4 id="dictionary-类型"><a href="#dictionary-类型" class="headerlink" title="dictionary 类型"></a>dictionary 类型</h4><p>字典没有顺序，字典每一key对应一个value,key可以是int可以str</p>
<ol>
<li>赋值</li>
<li>输出位置</li>
<li>删除</li>
<li>储存类型：字典里面再加字典，也可是fun（）<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">dic = &#123;<span class="string">'apple'</span>:<span class="number">1</span>,<span class="string">'pear'</span>:<span class="number">2</span>&#125;</span><br><span class="line">d=&#123;<span class="number">1</span>:<span class="string">'a'</span>,<span class="number">2</span>:<span class="string">'b'</span>&#125;</span><br><span class="line">dic[<span class="string">'lan'</span>] = <span class="string">'python'</span></span><br><span class="line">dic[<span class="string">'version'</span>] = <span class="number">2.7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> dic:</span><br><span class="line">    print(key, dic[key])</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">a_list = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">print(a_list[<span class="number">0</span>])    <span class="comment"># 1列表 </span></span><br><span class="line"></span><br><span class="line">d1 = &#123;<span class="string">'apple'</span>:<span class="number">1</span>, <span class="string">'pear'</span>:<span class="number">2</span>, <span class="string">'orange'</span>:<span class="number">3</span>&#125;</span><br><span class="line">print(d1[<span class="string">'apple'</span>])  <span class="comment"># 1字典 输出</span></span><br><span class="line"><span class="keyword">del</span> d1[<span class="string">'pear'</span>] <span class="comment">#删除</span></span><br><span class="line">d1[<span class="string">'platform'</span>] = <span class="number">64</span> <span class="comment">#赋值</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">d4 = &#123;<span class="string">'apple'</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], <span class="string">'pear'</span>:&#123;<span class="number">1</span>:<span class="number">3</span>, <span class="number">3</span>:<span class="string">'a'</span>&#125;, <span class="string">'orange'</span>:func&#125;</span><br><span class="line">print(d4[<span class="string">'pear'</span>][<span class="number">3</span>])    <span class="comment"># a</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="set-类型"><a href="#set-类型" class="headerlink" title="set 类型"></a>set 类型</h4><p>找不同，不需要value，可以只有key，没有序列<br>不能传列表+字符串</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">s = set([<span class="string">'python'</span>, <span class="string">'python2'</span>, <span class="string">'python3'</span>,<span class="string">'python'</span>])</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> s:</span><br><span class="line">    print(item)</span><br><span class="line">    </span><br><span class="line">char_list = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'d'</span>, <span class="string">'d'</span>]</span><br><span class="line">sentence = <span class="string">'Welcome Back to This Tutorial'</span></span><br><span class="line">   </span><br><span class="line">print(set(char_list))</span><br><span class="line">print(set(sentence))</span><br><span class="line">print(set(char_list+ list(sentence)))</span><br></pre></td></tr></table></figure>
<p>添加：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">unique_char = set(char_list)</span><br><span class="line">unique_char.add(<span class="string">'x'</span>)</span><br><span class="line"><span class="comment"># unique_char.add(['y', 'z']) this is wrong,不能加一个list和重复的数字</span></span><br><span class="line">print(unique_char)</span><br></pre></td></tr></table></figure></p>
<p>清除一个元素可以用 remove 或者 discard, 而清除全部可以用 clear.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">unique_char.remove(<span class="string">'x'</span>) <span class="comment">#这个返回值就是none</span></span><br><span class="line">unique_char.discard(<span class="string">'d'</span>)</span><br><span class="line">unique_char.clear()</span><br></pre></td></tr></table></figure></p>
<p>筛选：.difference .intersection<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">unique_char = set(char_list)</span><br><span class="line">print(unique_char.difference(&#123;<span class="string">'a'</span>, <span class="string">'e'</span>, <span class="string">'i'</span>&#125;)) <span class="comment">#不同</span></span><br><span class="line">print(unique_char.intersection(&#123;<span class="string">'a'</span>, <span class="string">'e'</span>, <span class="string">'i'</span>&#125;))</span><br></pre></td></tr></table></figure></p>
<p>Python 共内置了 list、 tuple 、dict 和 set 四种基本集合，每个集合对象都能够迭代。<br>dist和set名值对<br>请务必注意，dict内部存放的顺序和key放入的顺序是没有关系的。需要牢记的第一条就是dict的key必须是不可变对象<br>和list比较，dict有以下几个特点：</p>
<ol>
<li>查找和插入的速度极快，不会随着key的增加而变慢；</li>
<li>需要占用大量的内存，内存浪费多。<br>而list相反：</li>
<li>查找和插入的时间随着元素的增加而增加；</li>
<li>占用空间小，浪费内存很少。<br>set和dict的唯一区别仅在于没有存储对应的value，但是，set的原理和dict一样，所以，同样不可以放入可变对象，因为无法判断两个可变对象是否相等，也就无法保证set内部“不会有重复元素”。字符串、整数等都是不可变的，因此，可以放心地作为key。而list是可变的，就不能作为key</li>
</ol>
<h3 id="多维列表"><a href="#多维列表" class="headerlink" title="多维列表"></a>多维列表</h3><p>numpy 和 pandas来处理<br>多维，两个括号<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] <span class="comment"># 一行五列</span></span><br><span class="line"></span><br><span class="line">multi_dim_a = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line">			   [<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">			   [<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]] <span class="comment"># 三行三列</span></span><br></pre></td></tr></table></figure></p>
<p>print(multi_dim_a[0][1]) 第0行第1列，就是输出2，都是从0还是索引的</p>
<h2 id="import-一个模块"><a href="#import-一个模块" class="headerlink" title="import 一个模块"></a>import 一个模块</h2><p>方法1<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.localtime())  <span class="comment">#这样就可以print 当地时间</span></span><br></pre></td></tr></table></figure></p>
<p>方法2<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time <span class="keyword">as</span> t</span><br><span class="line">print(t.localtime()) <span class="comment"># 需要加t.前缀来引出功能</span></span><br></pre></td></tr></table></figure></p>
<p>方法三：from time import time,localtime ,只import自己想要的功能.所用功能就是，可以省略模块名。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time, localtime</span><br><span class="line">print(localtime())</span><br><span class="line">print(time())</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure></p>
<h3 id="自己的模块"><a href="#自己的模块" class="headerlink" title="自己的模块"></a>自己的模块</h3><p>保存好模块 xx.py,在同一个目录下即可，在Mac系统中，下载的python模块会被存储到外部路径site-packages，同样，我们自己建的模块也可以放到这个路径，最后不会影响到自建模块的调用。（Library-framework-lib-python-….）<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> balance</span><br></pre></td></tr></table></figure></p>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><h3 id="try的错误处理"><a href="#try的错误处理" class="headerlink" title="try的错误处理"></a>try的错误处理</h3><p>处理错误<br>输出错误的方法：try:    ,   except … as …:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    file=open(<span class="string">'eeee.txt'</span>,<span class="string">'r+'</span>) <span class="comment">#这边是读取加写入的操作</span></span><br><span class="line"><span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    print(e)</span><br><span class="line">    response = input(<span class="string">'do you want to create a new file:'</span>)</span><br><span class="line">    <span class="keyword">if</span> response==<span class="string">'y'</span>:</span><br><span class="line">        file=open(<span class="string">'eeee.txt'</span>,<span class="string">'w'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    file.write(<span class="string">'ssss'</span>)</span><br><span class="line">    file.close()</span><br></pre></td></tr></table></figure></p>
<h3 id="zip-lambda-map"><a href="#zip-lambda-map" class="headerlink" title="zip lambda map"></a>zip lambda map</h3><p>zip函数接受任意多个（包括0个和1个）序列作为参数，合并后返回一个tuple列表.需要list，这个是数项合并<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line">ab=zip(a,b)</span><br><span class="line">print(list(ab))  <span class="comment">#需要加list来可视化这个功能</span></span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> zip(a,b):  <span class="comment">#包括迭代器功能</span></span><br><span class="line">     print(i/<span class="number">2</span>,j*<span class="number">2</span>)</span><br></pre></td></tr></table></figure></p>
<p>lambda定义一个简单的函数，实现简化代码的功能，看代码会更好理解。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fun= <span class="keyword">lambda</span> x,y:x+y</span><br><span class="line">x=int(input(<span class="string">'x='</span>))    <span class="comment">#这里要定义int整数，否则会默认为字符串</span></span><br><span class="line">y=int(input(<span class="string">'y='</span>))</span><br><span class="line">print(fun(x,y))</span><br></pre></td></tr></table></figure>
<p>map<br>map是把函数和参数绑定在一起。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span><span class="params">(x,y)</span>:</span></span><br><span class="line">	<span class="keyword">return</span> (x+y)</span><br><span class="line">list(map(fun,[<span class="number">1</span>],[<span class="number">2</span>])) <span class="comment">#这边要list这个函数运算</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">[3]</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line">list(map(fun,[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]))</span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">[4,6]</span></span><br><span class="line"><span class="string">"""</span></span><br></pre></td></tr></table></figure></p>
<h3 id="copy-amp-deepcopy-浅复制-amp-深复制"><a href="#copy-amp-deepcopy-浅复制-amp-深复制" class="headerlink" title="copy &amp; deepcopy 浅复制 &amp; 深复制"></a>copy &amp; deepcopy 浅复制 &amp; 深复制</h3><p>copy是一个模块<br>深拷贝：改变一个变量，另一个也改变，他们指针位置一样，内存空间改变。<br>浅拷贝：第一层列表是完全指定到另外的内存空间，第二层列表旨在在同一个空间，此时第二层可以变，第一层不变。<br>a=b：内存空间不变。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b = a</span><br><span class="line">b[<span class="number">1</span>]=<span class="number">22</span></span><br><span class="line">print(a)</span><br><span class="line">print(id(a) == id(b)) <span class="comment">#True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># deep copy</span></span><br><span class="line">c = copy.deepcopy(a)</span><br><span class="line">print(id(a) == id(c)) <span class="comment">#false</span></span><br><span class="line">c[<span class="number">1</span>] = <span class="number">2</span></span><br><span class="line">print(a)  <span class="comment">#[1,2,3]</span></span><br><span class="line">a[<span class="number">1</span>] = <span class="number">111</span> <span class="comment">#[1,2,3]</span></span><br><span class="line">print(c)</span><br><span class="line"></span><br><span class="line"><span class="comment"># shallow copy</span></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,[<span class="number">3</span>,<span class="number">4</span>]]</span><br><span class="line">d = copy.copy(a)</span><br><span class="line">print(id(a) == id(d))  <span class="comment">#false 改变，第一层内存改变</span></span><br><span class="line">print(id(a[<span class="number">2</span>]) == id(d[<span class="number">2</span>])) <span class="comment">#true 第二层不变，包括内存</span></span><br></pre></td></tr></table></figure></p>
<h3 id="多线程和多进程"><a href="#多线程和多进程" class="headerlink" title="多线程和多进程"></a>多线程和多进程</h3><p>threading 和 multiprocessing<br>多线程 Threading 是一种让程序拥有分身效果. 能同时处理多件事情. 一般的程序只能从上到下一行行执行代码, 不过 多线程 (Threading) 就能打破这种限制. 让你的程序鲜活起来.</p>
<p>我们在多线程 (Threading) 里提到过, 它是有劣势的, GIL 让它没能更有效率的处理一些分摊的任务. 而现在的电脑大部分配备了多核处理器, 多进程 Multiprocessing 能让电脑更有效率的分配任务给每一个处理器, 这种做法解决了多线程的弊端. 也能很好的提升效率.</p>
<h4 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h4><h5 id="添加线程threading"><a href="#添加线程threading" class="headerlink" title="添加线程threading"></a>添加线程threading</h5><p>加载thereading模块<br>几个函数：</p>
<ol>
<li>threading.active.acount()  ,有几个线程</li>
<li>threading.enumerate(),查看所有线程信息</li>
<li>threading.current_thread(),正在运行的线程</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line"><span class="comment">#def main():</span></span><br><span class="line"><span class="comment">#    print(threading.active_count())  </span></span><br><span class="line"><span class="comment">#    print(threading.enumerate()) # see the thread list</span></span><br><span class="line"><span class="comment">#    print(threading.current_thread())</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">thread_job</span><span class="params">()</span>:</span>  <span class="comment">#定义线程的工作</span></span><br><span class="line">    print(<span class="string">'This is a thread of %s'</span> % threading.current_thread())</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    thread = threading.Thread(target=thread_job,) <span class="comment">#T大写，添加多线程</span></span><br><span class="line">    thread.start()  <span class="comment">#开始线程</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h5 id="join功能"><a href="#join功能" class="headerlink" title="join功能"></a>join功能</h5><p>线程任务还未完成便输出all done。如果要遵循顺序，可以在启动线程后对它调用join<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">T1_job</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"T1 start\n"</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line">    print(<span class="string">"T1 finish\n"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">T2_job</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"T2 start\n"</span>)</span><br><span class="line">    print(<span class="string">"T2 finish\n"</span>)</span><br><span class="line"></span><br><span class="line">thread_1 = threading.Thread(target=T1_job, name=<span class="string">'T1'</span>)</span><br><span class="line">thread_2 = threading.Thread(target=T2_job, name=<span class="string">'T2'</span>)</span><br><span class="line">thread_1.start() <span class="comment"># 开启T1</span></span><br><span class="line">thread_2.start() <span class="comment"># 开启T2</span></span><br><span class="line">thread_2.join() <span class="comment"># join for T2</span></span><br><span class="line">thread_1.join() <span class="comment"># join for T1</span></span><br><span class="line">print(<span class="string">"all done\n"</span>)</span><br></pre></td></tr></table></figure></p>
<h5 id="储存进程结果Queue"><a href="#储存进程结果Queue" class="headerlink" title="储存进程结果Queue"></a>储存进程结果Queue</h5><p>多线程没有结果，将结果保存在Queue中，线程执行完后，从Queue中获取存储的结果<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> queue <span class="keyword">import</span> Queue <span class="comment">#定义一个模块，在小写q模块导入大写Q</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(l,q)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(l)):  <span class="comment">#这边的l是一个列表，len(l)就是列表的长度，即个数</span></span><br><span class="line">        l[i] = l[i]**<span class="number">2</span> <span class="comment">#列表的值的平方</span></span><br><span class="line">    q.put(l)  <span class="comment">#多线程调用的函数不能用return返回值</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multithreading</span><span class="params">()</span>:</span></span><br><span class="line">    q = Queue() <span class="comment">#q中存放返回值，代替return的返回值</span></span><br><span class="line">    threads = [] <span class="comment">#线程列表</span></span><br><span class="line">    data = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],[<span class="number">4</span>,<span class="number">4</span>,<span class="number">4</span>],[<span class="number">5</span>,<span class="number">5</span>,<span class="number">5</span>]]</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>): :   <span class="comment">#定义四个线程</span></span><br><span class="line">        t = threading.Thread(target=job, args=(data[i], q)) <span class="comment">#Thread首字母要大写，被调用的job函数没有括号，只是一个索引，参数在后面</span></span><br><span class="line">        t.start() <span class="comment">#开始线程</span></span><br><span class="line">        threads.append(t)  <span class="comment">#把每个线程append到线程列表中</span></span><br><span class="line">    <span class="keyword">for</span> thread <span class="keyword">in</span> threads: <span class="comment">#分别join四个线程到主线程</span></span><br><span class="line">        thread.join()</span><br><span class="line">    results = [] <span class="comment">#定义一个空的列表results，将四个线运行后保存在队列中的结果返回给空列表results</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">4</span>):</span><br><span class="line">          results.append(q.get()) <span class="comment">#q.get()按顺序从q中拿出一个值</span></span><br><span class="line">    print(results)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:  <span class="comment">#if __name__ == '__main__'的意思是：当.py文件被直接运行时，if __name__ == '__main__'之下的代码块将被运行；当.py文件以模块形式被导入时，if __name__ == '__main__'之下的代码块不被运行。</span></span><br><span class="line">    multithreading() <span class="comment">#多线程运算函数</span></span><br></pre></td></tr></table></figure></p>
<h5 id="GIL不一定有效率"><a href="#GIL不一定有效率" class="headerlink" title="GIL不一定有效率"></a>GIL不一定有效率</h5><p>Python 的设计上, 有一个必要的环节, 就是 Global Interpreter Lock (GIL). 这个东西让 Python 还是一次性只能处理一个东西。<br>这时候用多进程运算会卡。</p>
<h5 id="线程锁"><a href="#线程锁" class="headerlink" title="线程锁"></a>线程锁</h5><p>Lock<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading <span class="comment">#导入线程标准模块</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> A, lock <span class="comment">#lock的函数</span></span><br><span class="line">    lock.acquire() <span class="comment">#开始lock，job2不会接触job1的程序</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        A += <span class="number">1</span></span><br><span class="line">        print(<span class="string">'job1'</span>, A)</span><br><span class="line">    lock.release() <span class="comment">#关闭lock</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job2</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> A, lock</span><br><span class="line">    lock.acquire()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">        A += <span class="number">10</span></span><br><span class="line">        print(<span class="string">'job2'</span>, A)</span><br><span class="line">    lock.release()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    lock = threading.Lock() <span class="comment">#一个大写一个小写</span></span><br><span class="line">    A = <span class="number">0</span></span><br><span class="line">    t1 = threading.Thread(target=job1)</span><br><span class="line">    t2 = threading.Thread(target=job2)</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br></pre></td></tr></table></figure></p>
<h4 id="多进程"><a href="#多进程" class="headerlink" title="多进程"></a>多进程</h4><h5 id="添加进程"><a href="#添加进程" class="headerlink" title="添加进程"></a>添加进程</h5><p>导入模块<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp <span class="comment">#导入模块</span></span><br><span class="line"><span class="keyword">import</span> threading <span class="keyword">as</span> td</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(a,d)</span>:</span></span><br><span class="line">    print(<span class="string">'aaaaa'</span>)</span><br><span class="line"></span><br><span class="line">t1 = td.Thread(target=job,args=(<span class="number">1</span>,<span class="number">2</span>)) <span class="comment">#job没有括号，有括号就是调用，这儿是引用这个目标罢了</span></span><br><span class="line">p1 = mp.Process(target=job,args=(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">t1.start()</span><br><span class="line">p1.start()</span><br><span class="line">t1.join()</span><br><span class="line">p1.join()</span><br></pre></td></tr></table></figure></p>
<p>完整代码：<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(a,d)</span>:</span></span><br><span class="line">    print(<span class="string">'aaaaa'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>: <span class="comment">#要在这个函数下面运行，不然报错，同时mac要在terminal下面</span></span><br><span class="line">    p1 = mp.Process(target=job,args=(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">    p1.start()</span><br><span class="line">    p1.join()</span><br></pre></td></tr></table></figure></p>
<h5 id="把值储存在queue里面"><a href="#把值储存在queue里面" class="headerlink" title="把值储存在queue里面"></a>把值储存在queue里面</h5><p>job本身没有返回值的原因才做这个<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(q)</span>:</span> </span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000</span>):</span><br><span class="line">        res += i+i**<span class="number">2</span>+i**<span class="number">3</span></span><br><span class="line">    q.put(res) <span class="comment"># 放进q里面</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    q = mp.Queue() <span class="comment"># q中存放返回值，代替return的返回值 。这是第一步</span></span><br><span class="line">    p1 = mp.Process(target=job, args=(q,)) <span class="comment">#定义两个线程函数，用来处理同一个任务, args 的参数只要一个值的时候，参数后面需要加一个逗号，表示args是可迭代的，后面可能还有别的参数，不加逗号会出错</span></span><br><span class="line">    p2 = mp.Process(target=job, args=(q,))</span><br><span class="line">    p1.start()</span><br><span class="line">    p2.start()</span><br><span class="line">    p1.join()</span><br><span class="line">    p2.join()</span><br><span class="line">    res1 = q.get()</span><br><span class="line">    res2 = q.get()</span><br><span class="line">    print(res1+res2)</span><br></pre></td></tr></table></figure></p>
<h5 id="哪个有效率"><a href="#哪个有效率" class="headerlink" title="哪个有效率"></a>哪个有效率</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"><span class="keyword">import</span> threading <span class="keyword">as</span> td</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(q)</span>:</span></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000000</span>):</span><br><span class="line">        res += i+i**<span class="number">2</span>+i**<span class="number">3</span></span><br><span class="line">    q.put(res) <span class="comment"># queue</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multicore</span><span class="params">()</span>:</span></span><br><span class="line">    q = mp.Queue()</span><br><span class="line">    p1 = mp.Process(target=job, args=(q,))</span><br><span class="line">    p2 = mp.Process(target=job, args=(q,))</span><br><span class="line">    p1.start()</span><br><span class="line">    p2.start()</span><br><span class="line">    p1.join()</span><br><span class="line">    p2.join()</span><br><span class="line">    res1 = q.get()</span><br><span class="line">    res2 = q.get()</span><br><span class="line">    print(<span class="string">'multicore:'</span> , res1+res2)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">normal</span><span class="params">()</span>:</span></span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">2</span>):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1000000</span>):</span><br><span class="line">            res += i+i**<span class="number">2</span>+i**<span class="number">3</span></span><br><span class="line">    print(<span class="string">'normal:'</span>, res)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multithread</span><span class="params">()</span>:</span></span><br><span class="line">    q = mp.Queue()</span><br><span class="line">    t1 = td.Thread(target=job, args=(q,))</span><br><span class="line">    t2 = td.Thread(target=job, args=(q,))</span><br><span class="line">    t1.start()</span><br><span class="line">    t2.start()</span><br><span class="line">    t1.join()</span><br><span class="line">    t2.join()</span><br><span class="line">    res1 = q.get()</span><br><span class="line">    res2 = q.get()</span><br><span class="line">    print(<span class="string">'multithread:'</span>, res1+res2)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    st = time.time()</span><br><span class="line">    normal()</span><br><span class="line">    st1= time.time()</span><br><span class="line">    print(<span class="string">'normal time:'</span>, st1 - st)</span><br><span class="line">    multithread()</span><br><span class="line">    st2 = time.time()</span><br><span class="line">    print(<span class="string">'multithread time:'</span>, st2 - st1)</span><br><span class="line">    multicore()</span><br><span class="line">    print(<span class="string">'multicore time:'</span>, time.time()-st2)</span><br></pre></td></tr></table></figure>
<h5 id="进程池"><a href="#进程池" class="headerlink" title="进程池"></a>进程池</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x*x <span class="comment">#pool里面有返回值 ，所以是return</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multicore</span><span class="params">()</span>:</span></span><br><span class="line">    pool = mp.Pool(processes=<span class="number">2</span>) <span class="comment">#定义进程池，大写P，这时候有返回值，这是第一步,默认值是所有的核，这边用2个核</span></span><br><span class="line">    res = pool.map(job, range(<span class="number">10</span>)) </span><br><span class="line">    print(res) <span class="comment"># 0.1.4.9....81</span></span><br><span class="line">    res = pool.apply_async(job, (<span class="number">2</span>,)) <span class="comment">#apply_async，只给一个值，只在一个核里面运行一次。传入值时要注意是可迭代的，所以在传入值后需要加逗号, 同时需要用get()方法获取返回值</span></span><br><span class="line">    print(res.get()) <span class="comment">#结果是4</span></span><br><span class="line">    multi_res =[pool.apply_async(job, (i,)) <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>)] <span class="comment">#这边是为了输出很多个值，用迭代器的功能</span></span><br><span class="line">    print([res.get() <span class="keyword">for</span> res <span class="keyword">in</span> multi_res]) <span class="comment">#结果也在列表中迭代</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    multicore()</span><br></pre></td></tr></table></figure>
<p>map是Python的内置函数, 使用的方式如下;</p>
<p>list = map(func, iter)<br>其中， func是函数， iter是可迭代的序列。<br>它的功能是：将一个序列中的每一个元素应用传入的函数， 并返回一个包含所有函数调用结果的一个列表.</p>
<h5 id="共享内存"><a href="#共享内存" class="headerlink" title="共享内存"></a>共享内存</h5><p>共享内存 shared memory,不能多进程分享全局变量<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"></span><br><span class="line">value1 = mp.Value(<span class="string">'i'</span>, <span class="number">0</span>) <span class="comment"># 形式 ， 内容</span></span><br><span class="line">value2 = mp.Value(<span class="string">'d'</span>, <span class="number">3.14</span>)</span><br><span class="line">array = mp.Array(<span class="string">'i'</span>, [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]) <span class="comment"># 整数，一维列表</span></span><br></pre></td></tr></table></figure></p>
<h5 id="进程锁"><a href="#进程锁" class="headerlink" title="进程锁"></a>进程锁</h5><p>Lock，还是要先定义共享内存<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> multiprocessing <span class="keyword">as</span> mp</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(v, num)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        time.sleep(<span class="number">0.1</span>) <span class="comment"># 暂停0.1秒，让输出效果更明显</span></span><br><span class="line">        v.value += num <span class="comment"># v.value获取共享变量值</span></span><br><span class="line">        print(v.value, end=<span class="string">""</span>)</span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multicore</span><span class="params">()</span>:</span></span><br><span class="line">    v = mp.Value(<span class="string">'i'</span>, <span class="number">0</span>) <span class="comment"># 定义共享变量</span></span><br><span class="line">    p1 = mp.Process(target=job, args=(v,<span class="number">1</span>))</span><br><span class="line">    p2 = mp.Process(target=job, args=(v,<span class="number">3</span>)) <span class="comment"># 设定不同的number看如何抢夺内存</span></span><br><span class="line">    p1.start()</span><br><span class="line">    p2.start()</span><br><span class="line">    p1.join()</span><br><span class="line">    p2.join()</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    multicore()</span><br></pre></td></tr></table></figure></p>
<p>上门会抢夺进程资源，下面是lock<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">job</span><span class="params">(v, num, l)</span>:</span> <span class="comment"># 需要将lock传入 第二步</span></span><br><span class="line">    l.acquire() <span class="comment"># 锁住 第三步</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">        time.sleep(<span class="number">0.1</span>) </span><br><span class="line">        v.value += num <span class="comment"># 获取共享内存</span></span><br><span class="line">        print(v.value)</span><br><span class="line">    l.release() <span class="comment"># 释放</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multicore</span><span class="params">()</span>:</span></span><br><span class="line">    l = mp.Lock() <span class="comment"># 定义一个进程锁,第一步</span></span><br><span class="line">    v = mp.Value(<span class="string">'i'</span>, <span class="number">0</span>) <span class="comment"># 定义共享内存</span></span><br><span class="line">    p1 = mp.Process(target=job, args=(v,<span class="number">1</span>,l)) <span class="comment"># 需要将lock传入</span></span><br><span class="line">    p2 = mp.Process(target=job, args=(v,<span class="number">3</span>,l)) <span class="comment">#p2 基于p1已经完成的基础上再加3</span></span><br><span class="line">    p1.start()</span><br><span class="line">    p2.start()</span><br><span class="line">    p1.join()</span><br><span class="line">    p2.join()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    multicore()</span><br></pre></td></tr></table></figure></p>
<h3 id="tkinker窗口"><a href="#tkinker窗口" class="headerlink" title="tkinker窗口"></a>tkinker窗口</h3><p>一个GUI界面，实现一个直观的窗口</p>
<h4 id="label-amp-button标签和按钮"><a href="#label-amp-button标签和按钮" class="headerlink" title="label&amp;button标签和按钮"></a>label&amp;button标签和按钮</h4><ol>
<li>导入tkinter模块</li>
<li>建立函数名<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk() <span class="comment">#对象都是要大写的</span></span><br><span class="line">window.title(<span class="string">'my window'</span>) <span class="comment">#名字</span></span><br><span class="line">window.geometry(<span class="string">'200x100'</span>) <span class="comment">#大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这里是窗口的内容</span></span><br><span class="line">var = tk.StringVar()    <span class="comment"># 这时文字变量储存器</span></span><br><span class="line">l = tk.Label(window, </span><br><span class="line">    textvariable=var,   <span class="comment"># 使用 textvariable 替换 text, 因为这个可以变化</span></span><br><span class="line">    bg=<span class="string">'green'</span>, font=(<span class="string">'Arial'</span>, <span class="number">12</span>), width=<span class="number">15</span>, height=<span class="number">2</span>)</span><br><span class="line">l.pack()    <span class="comment"># 固定窗口位置，place()某个点的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加按钮</span></span><br><span class="line">b = tk.Button(window, </span><br><span class="line">    text=<span class="string">'hit me'</span>,      <span class="comment"># 显示在按钮上的文字，还是要大写B</span></span><br><span class="line">    width=<span class="number">15</span>, height=<span class="number">2</span>, </span><br><span class="line">    command=hit_me)     <span class="comment"># 点击按钮式执行的命令，就是hit_ne的函数</span></span><br><span class="line">b.pack()    <span class="comment"># 按钮位置</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义hit_me函数</span></span><br><span class="line">on_hit = <span class="keyword">False</span>  <span class="comment"># 默认初始状态为 False</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hit_me</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> on_hit</span><br><span class="line">    <span class="keyword">if</span> on_hit == <span class="keyword">False</span>:     <span class="comment"># 从 False 状态变成 True 状态</span></span><br><span class="line">        on_hit = <span class="keyword">True</span></span><br><span class="line">        var.set(<span class="string">'you hit me'</span>)   <span class="comment"># 设置标签的文字为 'you hit me'</span></span><br><span class="line">    <span class="keyword">else</span>:       <span class="comment"># 从 True 状态变成 False 状态</span></span><br><span class="line">        on_hit = <span class="keyword">False</span></span><br><span class="line">        var.set(<span class="string">''</span>) <span class="comment"># 设置 文字为空</span></span><br><span class="line"></span><br><span class="line">window.mainloop() <span class="comment">#最后一步，不断刷新</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="输入输出文本框-entry-和-text"><a href="#输入输出文本框-entry-和-text" class="headerlink" title="输入输出文本框 entry 和 text"></a>输入输出文本框 entry 和 text</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义一个输入框</span></span><br><span class="line"><span class="comment"># e = tk.Entry(window, show="*")</span></span><br><span class="line">e = tk.Entry(window, show=<span class="string">"1"</span>) <span class="comment">#创建输入框entry，用户输入任何内容都显示为*,对象还是要大写</span></span><br><span class="line">e.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义两个按钮的函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_point</span><span class="params">()</span>:</span></span><br><span class="line">    var = e.get() <span class="comment">#获得文本框的值用get()</span></span><br><span class="line">    t.insert(<span class="string">'insert'</span>, var)  <span class="comment">#指针所在就是'insert'的形式</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_end</span><span class="params">()</span>:</span></span><br><span class="line">    var = e.get()</span><br><span class="line">    <span class="comment"># t.insert('end', var) 放在尾部就是'end'这个形式</span></span><br><span class="line">    t.insert(<span class="number">2.2</span>, var) <span class="comment">#具体地点，某行某列</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#定义两个按钮</span></span><br><span class="line">b1 = tk.Button(window, text=<span class="string">'insert point'</span>, width=<span class="number">15</span>,</span><br><span class="line">              height=<span class="number">2</span>, command=insert_point) <span class="comment">#这边两个函数</span></span><br><span class="line">b1.pack()</span><br><span class="line">b2 = tk.Button(window, text=<span class="string">'insert end'</span>,</span><br><span class="line">               command=insert_end)</span><br><span class="line">b2.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义一个文本框</span></span><br><span class="line">t = tk.Text(window, height=<span class="number">2</span>)</span><br><span class="line">t.pack()</span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure>
<h4 id="Listbox，列表部件"><a href="#Listbox，列表部件" class="headerlink" title="Listbox，列表部件"></a>Listbox，列表部件</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义一个窗口视图大小</span></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义label现实，因为是变量</span></span><br><span class="line">var1 = tk.StringVar()</span><br><span class="line">l = tk.Label(window, bg=<span class="string">'yellow'</span>, width=<span class="number">4</span>, textvariable=var1)</span><br><span class="line">l.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义光标选中的列表数字传入label的函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_selection</span><span class="params">()</span>:</span></span><br><span class="line">    value = lb.get(lb.curselection()) <span class="comment">#得到列表选中的lb值</span></span><br><span class="line">    var1.set(value) <span class="comment">#交给var1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#定义button</span></span><br><span class="line">b1 = tk.Button(window, text=<span class="string">'print selection'</span>, width=<span class="number">15</span>,</span><br><span class="line">              height=<span class="number">2</span>, command=print_selection)</span><br><span class="line">b1.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment">#定义Listbox</span></span><br><span class="line">var2 = tk.StringVar() <span class="comment">#因为是变量</span></span><br><span class="line">var2.set((<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>,<span class="number">44</span>)) <span class="comment"># 定义数据</span></span><br><span class="line">lb = tk.Listbox(window, listvariable=var2) <span class="comment">#定义列表框，列表传入参数</span></span><br><span class="line">list_items = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>] <span class="comment">#列表的index</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> list_items: <span class="comment">#迭代插入lb的数据到位置</span></span><br><span class="line">    lb.insert(<span class="string">'end'</span>, item)</span><br><span class="line">lb.insert(<span class="number">1</span>, <span class="string">'first'</span>)</span><br><span class="line">lb.insert(<span class="number">2</span>, <span class="string">'second'</span>)</span><br><span class="line">lb.delete(<span class="number">2</span>)</span><br><span class="line">lb.pack()</span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure>
<p><img src="evernotecid://9A67477A-D574-4790-9D02-79AC4C197FC4/appyinxiangcom/9302176/ENResource/p2414" alt="5e513541cd63ad0db10e92d8fe5523b6.png"></p>
<h4 id="选择按钮"><a href="#选择按钮" class="headerlink" title="选择按钮"></a>选择按钮</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line">var = tk.StringVar()</span><br><span class="line">l = tk.Label(window, bg=<span class="string">'yellow'</span>, width=<span class="number">20</span>, text=<span class="string">'empty'</span>)</span><br><span class="line">l.pack()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_selection</span><span class="params">()</span>:</span> <span class="comment">#print_selection 功能就是选择了某个 radiobutton 后我们会在屏幕上打印的选项.</span></span><br><span class="line">    l.config(text=<span class="string">'you have selected '</span> + var.get())<span class="comment">#config()函数表示里面所有的参数都可以被改变，这个改变了上面text里面的empty</span></span><br><span class="line"></span><br><span class="line">r1 = tk.Radiobutton(window, text=<span class="string">'Option A'</span>, <span class="comment">#装在window里面</span></span><br><span class="line">                    variable=var, value=<span class="string">'A'</span>,<span class="comment">#当我们鼠标选中了其中一个选项，把value的值A放到变量var中，然后赋值给variable</span></span><br><span class="line">                    command=print_selection)</span><br><span class="line">r1.pack()</span><br><span class="line">r2 = tk.Radiobutton(window, text=<span class="string">'Option B'</span>,</span><br><span class="line">                    variable=var, value=<span class="string">'B'</span>,</span><br><span class="line">                    command=print_selection)</span><br><span class="line">r2.pack()</span><br><span class="line">r3 = tk.Radiobutton(window, text=<span class="string">'Option C'</span>,</span><br><span class="line">                    variable=var, value=<span class="string">'C'</span>,</span><br><span class="line">                    command=print_selection)</span><br><span class="line">r3.pack()</span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure>
<h4 id="Scale尺寸"><a href="#Scale尺寸" class="headerlink" title="Scale尺寸"></a>Scale尺寸</h4><p>可以拉动，返回的是一个数字<br><img src="evernotecid://9A67477A-D574-4790-9D02-79AC4C197FC4/appyinxiangcom/9302176/ENResource/p2415" alt="fd2a3b7b3ba091f599014168b7aa18e6.png"><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line">l = tk.Label(window, bg=<span class="string">'yellow'</span>, width=<span class="number">20</span>, text=<span class="string">'empty'</span>)</span><br><span class="line">l.pack()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_selection</span><span class="params">(v)</span>:</span> <span class="comment">#这个有默认的返回值，所以加v</span></span><br><span class="line">    l.config(text=<span class="string">'you have selected '</span> + v)</span><br><span class="line"></span><br><span class="line">s = tk.Scale(window, label=<span class="string">'try me'</span>, from_=<span class="number">5</span>, to=<span class="number">11</span>, orient=tk.HORIZONTAL,</span><br><span class="line">             length=<span class="number">200</span>, showvalue=<span class="number">0</span>, tickinterval=<span class="number">2</span>, resolution=<span class="number">0.01</span>, command=print_selection)</span><br><span class="line">s.pack()</span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure></p>
<p>参数from_=5，to=11的意思就是从5到11，即这个滚动条最小值为5，最大值为11（这里使用from_是因为在python中有from这个关键词）<br>参数orient=tk.HORIZONTAL在这里就是设置滚动条的方向，如我们所看到的效果图，<strong>这里HORIZONTAL就是横向。要加tk</strong><br>参数length这里是指滚动条部件的长度，但注意的是和其他部件width表示不同，width表示的是以字符为单位，比如width=4，就是4个字符的长度，而此处的length=200，是指我们常用的像素为单位，即长度为200个像素<br>参数resolution=0.01这里我们可以借助数学题来理解，我们做的很多数学题都会让我们来保留几位小数，此处的0.01就是保留2位小数，<br>showvalue=0显示的就是效果图，上方无结果显示，如果改为showvalue=1<br>参数tickinterval设置的就是坐标的间隔，此处为tickinterval=2，</p>
<h4 id="checkbutton-勾选"><a href="#checkbutton-勾选" class="headerlink" title="checkbutton 勾选"></a>checkbutton 勾选</h4><p>和radiobutton类似<br>重点就是参数onvalue和offvalue的值，传入variable里面，同时定义传入的var是IntVar()的函数<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line">l = tk.Label(window, bg=<span class="string">'yellow'</span>, width=<span class="number">20</span>, text=<span class="string">'empty'</span>)</span><br><span class="line">l.pack()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_selection</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> (var1.get() == <span class="number">1</span>) &amp; (var2.get() == <span class="number">0</span>):</span><br><span class="line">        l.config(text=<span class="string">'I love only Python '</span>)</span><br><span class="line">    <span class="keyword">elif</span> (var1.get() == <span class="number">0</span>) &amp; (var2.get() == <span class="number">1</span>):</span><br><span class="line">        l.config(text=<span class="string">'I love only C++'</span>)</span><br><span class="line">    <span class="keyword">elif</span> (var1.get() == <span class="number">0</span>) &amp; (var2.get() == <span class="number">0</span>):</span><br><span class="line">        l.config(text=<span class="string">'I do not love either'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        l.config(text=<span class="string">'I love both'</span>)</span><br><span class="line"></span><br><span class="line">var1 = tk.IntVar()</span><br><span class="line">var2 = tk.IntVar()</span><br><span class="line">c1 = tk.Checkbutton(window, text=<span class="string">'Python'</span>, variable=var1, onvalue=<span class="number">1</span>, offvalue=<span class="number">0</span>,</span><br><span class="line">                    command=print_selection)</span><br><span class="line">c2 = tk.Checkbutton(window, text=<span class="string">'C++'</span>, variable=var2, onvalue=<span class="number">1</span>, offvalue=<span class="number">0</span>,</span><br><span class="line">                    command=print_selection)</span><br><span class="line">c1.pack()</span><br><span class="line">c2.pack()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure></p>
<h4 id="Canvas-画布"><a href="#Canvas-画布" class="headerlink" title="Canvas 画布"></a>Canvas 画布</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line">canvas = tk.Canvas(window, bg=<span class="string">'blue'</span>, height=<span class="number">100</span>, width=<span class="number">200</span>) <span class="comment">#加载画布 </span></span><br><span class="line">image_file = tk.PhotoImage(file=<span class="string">'ins.gif'</span>) <span class="comment">#载入图片</span></span><br><span class="line">image = canvas.create_image(<span class="number">10</span>, <span class="number">10</span>, anchor=<span class="string">'nw'</span>, image=image_file) <span class="comment">#左上角是铆点</span></span><br><span class="line">x0, y0, x1, y1= <span class="number">50</span>, <span class="number">50</span>, <span class="number">80</span>, <span class="number">80</span></span><br><span class="line">line = canvas.create_line(x0, y0, x1, y1)</span><br><span class="line">oval = canvas.create_oval(x0, y0, x1, y1, fill=<span class="string">'red'</span>) <span class="comment">#创建一个圆，填充色为`red`红色</span></span><br><span class="line">arc = canvas.create_arc(x0+<span class="number">30</span>, y0+<span class="number">30</span>, x1+<span class="number">30</span>, y1+<span class="number">30</span>, start=<span class="number">0</span>, extent=<span class="number">180</span>)  <span class="comment">#创建一个扇形</span></span><br><span class="line">rect = canvas.create_rectangle(<span class="number">100</span>, <span class="number">30</span>, <span class="number">100</span>+<span class="number">20</span>, <span class="number">30</span>+<span class="number">20</span>)   <span class="comment">#创建一个矩形</span></span><br><span class="line">canvas.pack()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">moveit</span><span class="params">()</span>:</span> <span class="comment">#canvas.move(rect, 0, 2)的参数(rect,0,2)就是移动rect这个变量，即我们看到的矩形 后面的0和2，也就是横坐标移动0个单位</span></span><br><span class="line">    canvas.move(rect, <span class="number">0</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">b = tk.Button(window, text=<span class="string">'move'</span>, command=moveit).pack()</span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure>
<h4 id="菜单栏-menubar"><a href="#菜单栏-menubar" class="headerlink" title="菜单栏 menubar"></a>菜单栏 menubar</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line">l = tk.Label(window, text=<span class="string">''</span>, bg=<span class="string">'yellow'</span>)</span><br><span class="line">l.pack()</span><br><span class="line">counter = <span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_job</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">global</span> counter</span><br><span class="line">    l.config(text=<span class="string">'do '</span>+ str(counter))</span><br><span class="line">    counter+=<span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##创建一个菜单栏，这里我们可以把他理解成一个容器，在窗口的上方</span></span><br><span class="line">menubar = tk.Menu(window)</span><br><span class="line">filemenu = tk.Menu(menubar, tearoff=<span class="number">0</span>) <span class="comment">##定义一个空菜单单元</span></span><br><span class="line">menubar.add_cascade(label=<span class="string">'File'</span>, menu=filemenu) <span class="comment">##将上面定义的空菜单命名为`File`，放在菜单栏中，就是装入那个容器中</span></span><br><span class="line"></span><br><span class="line"><span class="comment">##在`File`中加入`New`的小菜单，即我们平时看到的下拉菜单，每一个小菜单对应命令操作。</span></span><br><span class="line"><span class="comment">##如果点击这些单元, 就会触发`do_job`的功能</span></span><br><span class="line">filemenu.add_command(label=<span class="string">'New'</span>, command=do_job)</span><br><span class="line">filemenu.add_command(label=<span class="string">'Open'</span>, command=do_job)</span><br><span class="line">filemenu.add_command(label=<span class="string">'Save'</span>, command=do_job)<span class="comment">##同样的在`File`中加入`Open`小菜单</span></span><br><span class="line">filemenu.add_separator() <span class="comment">##这里就是一条分割线</span></span><br><span class="line">filemenu.add_command(label=<span class="string">'Exit'</span>, command=window.quit) <span class="comment">##同样的在`File`中加入`Exit`小菜单,此处对应命令为`window.quit`</span></span><br><span class="line"></span><br><span class="line">editmenu = tk.Menu(menubar, tearoff=<span class="number">0</span>)</span><br><span class="line">menubar.add_cascade(label=<span class="string">'Edit'</span>, menu=editmenu)</span><br><span class="line">editmenu.add_command(label=<span class="string">'Cut'</span>, command=do_job)</span><br><span class="line">editmenu.add_command(label=<span class="string">'Copy'</span>, command=do_job)</span><br><span class="line">editmenu.add_command(label=<span class="string">'Paste'</span>, command=do_job)</span><br><span class="line"></span><br><span class="line">submenu = tk.Menu(filemenu) <span class="comment">##和上面定义菜单一样，不过此处实在`File`上创建一个空的菜单</span></span><br><span class="line">filemenu.add_cascade(label=<span class="string">'Import'</span>, menu=submenu, underline=<span class="number">0</span>) <span class="comment">##给放入的菜单`submenu`命名为`Import`</span></span><br><span class="line">submenu.add_command(label=<span class="string">"Submenu1"</span>, command=do_job) <span class="comment">##这里和上面也一样，在`Import`中加入一个小菜单命令`Submenu1`</span></span><br><span class="line"></span><br><span class="line">window.config(menu=menubar) <span class="comment">#给window改menu属性，这个是特别的地方</span></span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure>
<h4 id="Frame-框架"><a href="#Frame-框架" class="headerlink" title="Frame 框架"></a>Frame 框架</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line">tk.Label(window, text=<span class="string">'on the window'</span>).pack() <span class="comment">###定义一个`label`显示`on the window`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">###在`window`上创建一个`frame`</span></span><br><span class="line">frm = tk.Frame(window)</span><br><span class="line">frm.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment">###在刚刚创建的`frame`上创建两个`frame`，我们可以把它理解成一个大容器里套了一个小容器，即`frm`上有两个`frame` ，`frm_l`和`frm_r`</span></span><br><span class="line">frm_l = tk.Frame(frm, )</span><br><span class="line">frm_r = tk.Frame(frm)</span><br><span class="line"><span class="comment">###这里是控制小的`frm`部件在大的`frm`的相对位置，此处`frm_l`就是在`frm`的左边，`frm_r`在`frm`的右边</span></span><br><span class="line">frm_l.pack(side=<span class="string">'left'</span>)</span><br><span class="line">frm_r.pack(side=<span class="string">'right'</span>)</span><br><span class="line"><span class="comment">###这里的三个label就是在我们创建的frame上定义的label部件，还是以容器理解，就是容器上贴了标签，来指明这个是什么，解释这个容器。</span></span><br><span class="line">tk.Label(frm_l, text=<span class="string">'on the frm_l1'</span>).pack()</span><br><span class="line">tk.Label(frm_l, text=<span class="string">'on the frm_l2'</span>).pack()</span><br><span class="line">tk.Label(frm_r, text=<span class="string">'on the frm_r1'</span>).pack()</span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure>
<h4 id="Message弹窗"><a href="#Message弹窗" class="headerlink" title="Message弹窗"></a>Message弹窗</h4><p>tk.messagebox.showinfo(title=’’,message=’’)#提示信息对话窗<br>tk.messagebox.showwarning()#提出警告对话窗<br>tk.messagebox.showerror()#提出错误对话窗<br>tk.messagebox.askquestion()#询问选择对话窗</p>
<p><strong>注意是小写</strong><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">import</span> tkinter.messagebox</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'my window'</span>)</span><br><span class="line">window.geometry(<span class="string">'200x200'</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hit_me</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment">#tk.messagebox.showinfo(title='Hi', message='hahahaha')   # return 'ok'</span></span><br><span class="line">    <span class="comment">#tk.messagebox.showwarning(title='Hi', message='nononono')   # return 'ok'</span></span><br><span class="line">    <span class="comment">#tk.messagebox.showerror(title='Hi', message='No!! never')   # return 'ok'</span></span><br><span class="line">    <span class="comment">#print(tk.messagebox.askquestion(title='Hi', message='hahahaha'))   # return 'yes' , 'no' 有返回值</span></span><br><span class="line">    <span class="comment">#print(tk.messagebox.askyesno(title='Hi', message='hahahaha'))   # return True, False</span></span><br><span class="line">    print(tk.messagebox.asktrycancel(title=<span class="string">'Hi'</span>, message=<span class="string">'hahahaha'</span>))   <span class="comment"># return True, False</span></span><br><span class="line">    print(tk.messagebox.askokcancel(title=<span class="string">'Hi'</span>, message=<span class="string">'hahahaha'</span>))   <span class="comment"># return True, False</span></span><br><span class="line">    print(tk.messagebox.askyesnocancel(title=<span class="string">"Hi"</span>, message=<span class="string">"haha"</span>))     <span class="comment"># return, True, False, None</span></span><br><span class="line"></span><br><span class="line">tk.Button(window, text=<span class="string">'hit me'</span>, command=hit_me).pack()</span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure></p>
<h4 id="pack，grid，place放置位置"><a href="#pack，grid，place放置位置" class="headerlink" title="pack，grid，place放置位置"></a>pack，grid，place放置位置</h4><p>pack(),参数是side<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">tk.Label(window, text=<span class="string">'1'</span>).pack(side=<span class="string">'top'</span>)<span class="comment">#上</span></span><br><span class="line">tk.Label(window, text=<span class="string">'1'</span>).pack(side=<span class="string">'bottom'</span>)<span class="comment">#下</span></span><br><span class="line">tk.Label(window, text=<span class="string">'1'</span>).pack(side=<span class="string">'left'</span>)<span class="comment">#左</span></span><br><span class="line">tk.Label(window, text=<span class="string">'1'</span>).pack(side=<span class="string">'right'</span>)<span class="comment">#右</span></span><br></pre></td></tr></table></figure></p>
<p>grid<br>接下里我们在看看grid(), grid 是方格, 所以所有的内容会被放在这些规律的方格中.<br>以上的代码就是创建一个四行三列的表格，其实grid就是用表格的形式定位的。这里的参数 row为行，colum为列，padx就是单元格左右间距，pady就是单元格上下间距。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>): <span class="comment">#行</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">3</span>): <span class="comment">#列</span></span><br><span class="line">        tk.Label(window, text=<span class="number">1</span>).grid(row=i, column=j, padx=<span class="number">10</span>, pady=<span class="number">10</span>) <span class="comment">#内部拓展，ipadx</span></span><br></pre></td></tr></table></figure></p>
<p>place<br>再接下来就是place(), 这个比较容易理解，就是给精确的坐标来定位，如此处给的（20,10），就是将这个部件放在坐标为（x，y）的这个位置 后面的参数anchor=nw就是前面所讲的锚定点是西北角。<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tk.Label(window, text=<span class="number">1</span>).place(x=<span class="number">20</span>, y=<span class="number">10</span>, anchor=<span class="string">'nw'</span>)</span><br></pre></td></tr></table></figure></p>
<h4 id="登录窗口"><a href="#登录窗口" class="headerlink" title="登录窗口"></a>登录窗口</h4><p><a href="https://morvanzhou.github.io/tutorials/python-basic/tkinter/3-03-example3/" target="_blank" rel="noopener">https://morvanzhou.github.io/tutorials/python-basic/tkinter/3-03-example3/</a><br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> messagebox  <span class="comment"># import this to fix messagebox error</span></span><br><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">window = tk.Tk()</span><br><span class="line">window.title(<span class="string">'Welcome to Mofan Python'</span>)</span><br><span class="line">window.geometry(<span class="string">'450x300'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># welcome image</span></span><br><span class="line">canvas = tk.Canvas(window, height=<span class="number">200</span>, width=<span class="number">500</span>)</span><br><span class="line">image_file = tk.PhotoImage(file=<span class="string">'welcome.gif'</span>)</span><br><span class="line">image = canvas.create_image(<span class="number">0</span>,<span class="number">0</span>, anchor=<span class="string">'nw'</span>, image=image_file)</span><br><span class="line">canvas.pack(side=<span class="string">'top'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># user information</span></span><br><span class="line">tk.Label(window, text=<span class="string">'User name: '</span>).place(x=<span class="number">50</span>, y= <span class="number">150</span>)</span><br><span class="line">tk.Label(window, text=<span class="string">'Password: '</span>).place(x=<span class="number">50</span>, y= <span class="number">190</span>)</span><br><span class="line"></span><br><span class="line">var_usr_name = tk.StringVar()</span><br><span class="line">var_usr_name.set(<span class="string">'example@python.com'</span>)</span><br><span class="line">entry_usr_name = tk.Entry(window, textvariable=var_usr_name)</span><br><span class="line">entry_usr_name.place(x=<span class="number">160</span>, y=<span class="number">150</span>)</span><br><span class="line">var_usr_pwd = tk.StringVar()</span><br><span class="line">entry_usr_pwd = tk.Entry(window, textvariable=var_usr_pwd, show=<span class="string">'*'</span>)</span><br><span class="line">entry_usr_pwd.place(x=<span class="number">160</span>, y=<span class="number">190</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">usr_login</span><span class="params">()</span>:</span></span><br><span class="line">    usr_name = var_usr_name.get()</span><br><span class="line">    usr_pwd = var_usr_pwd.get()</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'usrs_info.pickle'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> usr_file:</span><br><span class="line">            usrs_info = pickle.load(usr_file)</span><br><span class="line">    <span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'usrs_info.pickle'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> usr_file:</span><br><span class="line">            usrs_info = &#123;<span class="string">'admin'</span>: <span class="string">'admin'</span>&#125;</span><br><span class="line">            pickle.dump(usrs_info, usr_file)</span><br><span class="line">    <span class="keyword">if</span> usr_name <span class="keyword">in</span> usrs_info:</span><br><span class="line">        <span class="keyword">if</span> usr_pwd == usrs_info[usr_name]:</span><br><span class="line">            tk.messagebox.showinfo(title=<span class="string">'Welcome'</span>, message=<span class="string">'How are you? '</span> + usr_name)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            tk.messagebox.showerror(message=<span class="string">'Error, your password is wrong, try again.'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        is_sign_up = tk.messagebox.askyesno(<span class="string">'Welcome'</span>,</span><br><span class="line">                               <span class="string">'You have not signed up yet. Sign up today?'</span>)</span><br><span class="line">        <span class="keyword">if</span> is_sign_up:</span><br><span class="line">            usr_sign_up()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">usr_sign_up</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sign_to_Mofan_Python</span><span class="params">()</span>:</span></span><br><span class="line">        np = new_pwd.get()</span><br><span class="line">        npf = new_pwd_confirm.get()</span><br><span class="line">        nn = new_name.get()</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'usrs_info.pickle'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> usr_file:</span><br><span class="line">            exist_usr_info = pickle.load(usr_file)</span><br><span class="line">        <span class="keyword">if</span> np != npf:</span><br><span class="line">            tk.messagebox.showerror(<span class="string">'Error'</span>, <span class="string">'Password and confirm password must be the same!'</span>)</span><br><span class="line">        <span class="keyword">elif</span> nn <span class="keyword">in</span> exist_usr_info:</span><br><span class="line">            tk.messagebox.showerror(<span class="string">'Error'</span>, <span class="string">'The user has already signed up!'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            exist_usr_info[nn] = np</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'usrs_info.pickle'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> usr_file:</span><br><span class="line">                pickle.dump(exist_usr_info, usr_file)</span><br><span class="line">            tk.messagebox.showinfo(<span class="string">'Welcome'</span>, <span class="string">'You have successfully signed up!'</span>)</span><br><span class="line">            window_sign_up.destroy()</span><br><span class="line">    window_sign_up = tk.Toplevel(window)</span><br><span class="line">    window_sign_up.geometry(<span class="string">'350x200'</span>)</span><br><span class="line">    window_sign_up.title(<span class="string">'Sign up window'</span>)</span><br><span class="line"></span><br><span class="line">    new_name = tk.StringVar()</span><br><span class="line">    new_name.set(<span class="string">'example@python.com'</span>)</span><br><span class="line">    tk.Label(window_sign_up, text=<span class="string">'User name: '</span>).place(x=<span class="number">10</span>, y= <span class="number">10</span>)</span><br><span class="line">    entry_new_name = tk.Entry(window_sign_up, textvariable=new_name)</span><br><span class="line">    entry_new_name.place(x=<span class="number">150</span>, y=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    new_pwd = tk.StringVar()</span><br><span class="line">    tk.Label(window_sign_up, text=<span class="string">'Password: '</span>).place(x=<span class="number">10</span>, y=<span class="number">50</span>)</span><br><span class="line">    entry_usr_pwd = tk.Entry(window_sign_up, textvariable=new_pwd, show=<span class="string">'*'</span>)</span><br><span class="line">    entry_usr_pwd.place(x=<span class="number">150</span>, y=<span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">    new_pwd_confirm = tk.StringVar()</span><br><span class="line">    tk.Label(window_sign_up, text=<span class="string">'Confirm password: '</span>).place(x=<span class="number">10</span>, y= <span class="number">90</span>)</span><br><span class="line">    entry_usr_pwd_confirm = tk.Entry(window_sign_up, textvariable=new_pwd_confirm, show=<span class="string">'*'</span>)</span><br><span class="line">    entry_usr_pwd_confirm.place(x=<span class="number">150</span>, y=<span class="number">90</span>)</span><br><span class="line"></span><br><span class="line">    btn_comfirm_sign_up = tk.Button(window_sign_up, text=<span class="string">'Sign up'</span>, command=sign_to_Mofan_Python)</span><br><span class="line">    btn_comfirm_sign_up.place(x=<span class="number">150</span>, y=<span class="number">130</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># login and sign up button</span></span><br><span class="line">btn_login = tk.Button(window, text=<span class="string">'Login'</span>, command=usr_login)</span><br><span class="line">btn_login.place(x=<span class="number">170</span>, y=<span class="number">230</span>)</span><br><span class="line">btn_sign_up = tk.Button(window, text=<span class="string">'Sign up'</span>, command=usr_sign_up)</span><br><span class="line">btn_sign_up.place(x=<span class="number">270</span>, y=<span class="number">230</span>)</span><br><span class="line"></span><br><span class="line">window.mainloop()</span><br></pre></td></tr></table></figure></p>
<h3 id="pickle模块"><a href="#pickle模块" class="headerlink" title="pickle模块"></a>pickle模块</h3><p>pickle 是一个 python 中, 压缩/保存/提取 文件的模块. 最一般的使用方式非常简单. 比如下面就是压缩并保存一个字典的方式. 字典和列表都是能被保存的.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pickle</span><br><span class="line"></span><br><span class="line">a_dict = &#123;<span class="string">'da'</span>: <span class="number">111</span>, <span class="number">2</span>: [<span class="number">23</span>,<span class="number">1</span>,<span class="number">4</span>], <span class="string">'23'</span>: &#123;<span class="number">1</span>:<span class="number">2</span>,<span class="string">'d'</span>:<span class="string">'sad'</span>&#125;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># pickle a variable to a file</span></span><br><span class="line">file = open(<span class="string">'pickle_example.pickle'</span>, <span class="string">'wb'</span>) <span class="comment">#wb 是以写的形式打开</span></span><br><span class="line">pickle.dump(a_dict, file) <span class="comment">#装载的是a_dict,装在flie里面(固定在文件列表里面)，就有一个pickle_example.pickle </span></span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># reload a file to a variable</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'pickle_example.pickle'</span>, <span class="string">'rb'</span>) <span class="keyword">as</span> file: <span class="comment">#rb 是读的形式打开，with不用考虑关闭file.close()</span></span><br><span class="line">    a_dict1 =pickle.load(file)</span><br><span class="line"></span><br><span class="line">print(a_dict1)</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2017/09/23/python-文档/" data-id="cl3iva31v000e4oa30y87553x" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/10/15/二律背反/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          二律背反
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2022 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>



<script src="/js/script.js"></script>



  </div>
</body>
</html>